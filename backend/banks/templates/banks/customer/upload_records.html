{% extends "admin/base_site.html" %}
{% block content %}
{# For Uploading Customer Bank Transaction Record #}
<section class="mapping_card">
    {% if mapping_form %}
    <form method="post" enctype="multipart/form-data" class="submit-row" action="{% url 'admin:upload_records' %}">
        {% csrf_token %}
        {% for field in mapping_form %}
            <div class="field">
                <div class="content">
                    <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
                    {{ field }}
                </div>
                {% if field.help_text %}
                    <div class="help-text">{{ field.help_text }}</div>
                {% endif %}
                {% for error in field.errors %}
                    <div class="text-danger">{{ error }}</div>
                {% endfor %}
            </div>
        {% endfor %}
        <button type="submit" class="btn btn-success mt-3">Submit</button>
    </form>
    {% else %}
    <p class="text-danger">Mapping form not found.</p>
    {% endif %}   
</section>
<style>
    .mapping_card {
        > .submit-row {
            display: flex;
            flex-flow: row wrap;
            align-items: center;
            gap: 10px;

            select {
                background: var(--button-bg);
                padding: 0 15px;
                min-height: 40px;
                border: none;
                border-radius: 4px;
                color: var(--button-fg);
                cursor: pointer;
                transition: background 0.15s;
            }

            > .field {
                flex: 1 1 400px;
                > .content {
                    display: flex;
                    flex-direction: column;
                }
                > .help-text {
                    font-size: 0.65rem;
                    color: var(--accent);
                }
            }

            > button {
                margin-top: 10px;
                background-color: #28a745;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                min-width: 134px;

                &:hover {
                    background-color: #218838;
                }
            }
        }
    }
</style>
{% endblock %}
{# End of Uploading Customer Bank Transaction Record #}
{# For Uploading Customer Bank Transaction Record #}